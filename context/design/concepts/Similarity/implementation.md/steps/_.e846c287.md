---
timestamp: 'Sat Oct 18 2025 18:48:38 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251018_184838.133a5d4b.md]]'
content_id: e846c28775f83e0a0f2929cb1dac236d13af614c1eed16e556eef3b4c658caca
---

# Scoring Policy

* Content-based similarity: Build a tag set for each item (lowercased, unique). If an item has no tags, treat as empty set.
* Cosine on binary tags: cosine(i,j) = |tags(i) ∩ tags(j)| / sqrt(|tags(i)| \* |tags(j)|) If either set is empty ⇒ cosine = 0. Cosine is already in \[0,1].
* Candidate pruning: only compare (i,j) if they share ≥ 1 tag. Skip self-pairs.
* Final score: score(i,j) = cosine(i,j)
* Post-processing: disallow self-links, never create (from=i, to=i).
* Keep only topK neighbors (default topK = 50) per from, sorted by score DESC.
* ensure scores are finite numbers.
