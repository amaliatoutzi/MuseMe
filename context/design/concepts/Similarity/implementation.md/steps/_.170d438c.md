---
timestamp: 'Sat Oct 18 2025 18:11:02 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251018_181102.408ece55.md]]'
content_id: 170d438c5d9d73151fd22e810bcbe26d14381e7be827077c415f00c2775edd23
---

# CONCEPT TO IMPLEMENT (authoritative spec; treat “principle” as operational behavior)

## concept **Similarity** \[Item]

**purpose**
store item-to-item relatedness usable by ranking flows

**principle**
if **SimilarityLinks(from,to)** with **score** exists, then neighbor queries for **from** may surface **to** ranked by **score**; rebuilding recomputes these scores atomically for the chosen scope.

**state**
a set of **SimilarityLinks** with

* a from **ItemId**
* a to **ItemId**
* a score **Number**  *(higher means more similar)*
* an updatedAt **DateTime**

**actions**
**rebuildSimilarity**(scope?: Scope)

* effects (re)compute SimilarityLinks for the specified scope *(e.g., all museums or exhibits)* using some black box algorithm;
  set updatedAt := now

**neighbors**(item: ItemId, k: Number) : List<ItemId>

* requires k ≥ 1
* effects return up to k items with highest score where `from = item`
